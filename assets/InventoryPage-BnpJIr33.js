import{r as t,j as e}from"./index-CvHj2RZ1.js";import{H as b,F as w}from"./Header-B_kp4QE1.js";import{R}from"./react-paginate-DtMYSAmB.js";import{I as y}from"./ItemsData-CIqc31K7.js";import"./watch-time-heart-svgrepo-com-D13DZejb.js";const P="_InventoryPage_a6xyh_14",E={InventoryPage:P},A="_Inventory_Container_1rv1e_1",L="_ContainerCarts_1rv1e_26",$="_pagination_1rv1e_44",S={Inventory_Container:A,ContainerCarts:L,pagination:$},z="_Cartas_xndzx_1",O="_DivCarts_xndzx_9",T="_DivImg_xndzx_33",H="_DivText_xndzx_52",M="_DivButttonAdd_xndzx_76",V="_NotFounInv_xndzx_111",p={Cartas:z,DivCarts:O,DivImg:T,DivText:H,DivButttonAdd:M,NotFounInv:V};function J({ItemsData:a}){const[s,n]=t.useState([]),[i,d]=t.useState([]),[c,l]=t.useState([]);t.useEffect(()=>{n(a)},[a]);function h(r){let f=localStorage.getItem("ItemsInventory"),v=JSON.parse(f);if(!v||v.length===0)return;const C=i.map(_=>_.ID);l(C),d(v)}return t.useEffect(()=>{h()},[]),t.useEffect(()=>{localStorage.setItem("ItemsInventory",JSON.stringify(i));const r=i.map(f=>f.ID);l(r)},[i]),e.jsx(e.Fragment,{children:s&&s.length>0?e.jsx("div",{className:p.Cartas,children:s.map((r,f)=>e.jsxs("div",{id:r.id,className:p.DivCarts,children:[e.jsxs("div",{className:p.DivImg,children:[e.jsx("p",{children:r.categoria}),e.jsx("img",{src:r.img,alt:""})]}),e.jsxs("div",{className:p.DivText,children:[e.jsx("h5",{children:r.type}),e.jsx("h3",{children:r.produto}),e.jsxs("p",{children:[r.description||"Sin descripción"," "]})]}),e.jsxs("div",{className:p.DivButttonAdd,children:[e.jsxs("h3",{children:["$ ",r.precio]}),c.includes(r.id)?e.jsx(e.Fragment,{children:e.jsxs("button",{children:[e.jsx("i",{className:"fa-solid fa-circle-check"}),"In cart"]})}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:v=>{d(C=>[...C,{ID:r.id,Cantidad:1}])},children:[e.jsx("i",{className:"fa-solid fa-cart-shopping"})," Add to card"]})," "]})]})]},r.id))}):e.jsx("div",{className:p.NotFounInv,children:"No Hay Items"})})}const W="_Search_Container_12dr4_9",B="_Search_Container_Div_12dr4_22",U="_Div_Input_Search_12dr4_36",q="_Container_Div_Categoria__12dr4_66",G="_checkbox_wrapper_12dr4_85",K="_checkmark_12dr4_100",Q="_DivRange_Container_12dr4_126",X="_DateDiv_Conatiner_12dr4_150",Y="_radio_container_12dr4_167",Z="_custom_radio_12dr4_178",x={Search_Container:W,Search_Container_Div:B,Div_Input_Search:U,Container_Div_Categoria_:q,checkbox_wrapper:G,checkmark:K,DivRange_Container:Q,DateDiv_Conatiner:X,radio_container:Y,custom_radio:Z};function ee({DataBase:a,SetDataBase:s}){const[n]=t.useState(a),[i,d]=t.useState([]),[c,l]=t.useState([]),[h,r]=t.useState([]),[f,v]=t.useState([]),[C,_]=t.useState([]),[I,D]=t.useState(!1);t.useEffect(()=>{a.length===0&&C.length>0&&s(C),a.length>0&&C.length===0&&_(a),D(!1)},[I]),t.useEffect(()=>{l(a)},[]);let N=[];t.useEffect(()=>{let u=!1,m=0;for(let o=0;o<n.length;o++){for(let g=o+1;g<n.length;g++)n[o].categoria===n[g].categoria&&(m++,m>=1&&(u=!0));let j=!1;if(u===!1){for(let g=0;g<N.length;g++)N[g]===n[o].categoria&&(j=!0);j===!1&&(N.push(n[o].categoria),d(g=>[...g,n[o].categoria]))}j=!1,u=!1,m=0}},[]);function F(u){if(u.target.checked===!0){let m=c.filter(o=>o.categoria===u.target.value);r(o=>[...o,...m])}else{let m=h.filter(o=>o.categoria!==u.target.value);r(m)}D(!0)}return t.useEffect(()=>{v(u=>[...u,...h].filter((o,j,g)=>j===g.findIndex(k=>k.id===o.id))),s(h)},[h]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:x.Container_Div_Categoria_,children:[e.jsx("h4",{children:"Category"}),i&&i.length>0?e.jsx(e.Fragment,{children:i.map((u,m)=>e.jsx("div",{className:x.checkbox_wrapper,children:e.jsxs("label",{children:[e.jsx("input",{value:u,type:"checkbox",onClick:o=>{F(o)}}),e.jsx("span",{className:x.checkmark}),u]})},m))}):e.jsx(e.Fragment,{})]})})}function te({DataBase:a,SetDataBase:s}){const[n]=t.useState(a);async function i(d){if(s(n),d.target.value==="Newest"){let c=await n.filter((l,h)=>l.Fecha.anio>=2025);s(c)}else{let c=await n.filter((l,h)=>l.Fecha.anio<2025);s(c)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:x.DateDiv_Conatiner,children:[e.jsx("h4",{children:"Date Added"}),e.jsx("br",{}),e.jsxs("label",{className:x.radio_container,children:[e.jsx("input",{type:"radio",name:"date",value:"Newest",onClick:i}),e.jsx("span",{className:x.custom_radio}),"Newest First"]}),e.jsxs("label",{className:x.radio_container,children:[e.jsx("input",{type:"radio",name:"date",value:"Oldest",onClick:i}),e.jsx("span",{className:x.custom_radio}),"Oldest First"]})]})})}function ae({DataBase:a,SetDataBase:s}){const[n,i]=t.useState("0"),[d,c]=t.useState([]),[l,h]=t.useState("0"),[r,f]=t.useState([]);let v=0;t.useEffect(()=>{c(a);for(let _=0;_<a.length;_++)a[_].precio>v&&(v+=a[_].precio);h(v)},[]);async function C(_){s(d);let I=await a.filter(D=>D.precio<=_);f(I)}return t.useEffect(()=>{s(r)},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:x.DivRange_Container,children:[e.jsx("h4",{children:"Price Range"}),e.jsx("input",{onChange:_=>{i(_.target.value),C(_.target.value)},type:"range",max:l,min:"0"}),e.jsxs("small",{children:["$0 ",e.jsxs("span",{children:["$ ",n," "]})]})]})})}function ne({ItemsData:a,setData:s}){const[n,i]=t.useState(""),[d]=t.useState(a);return t.useEffect(()=>{if(n===""){s(d);return}let c=d.filter(l=>l.produto.toLowerCase().startsWith(n.toLowerCase())||l.marca.toLowerCase().startsWith(n.toLowerCase()));s(c)},[n]),e.jsx("div",{className:x.Search_Container,children:e.jsxs("div",{className:x.Search_Container_Div,children:[e.jsx("h3",{children:"Filters"}),e.jsxs("div",{className:x.Div_Input_Search,children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("input",{type:"text",placeholder:"Search por nombre o marca",onChange:c=>{i(c.target.value)}})]}),e.jsx(ee,{DataBase:a,SetDataBase:s}),e.jsx(ae,{DataBase:a,SetDataBase:s}),e.jsx(te,{DataBase:a,SetDataBase:s})]})})}function se(){const[a,s]=t.useState(y),[n,i]=t.useState(0),d=10,c=n*d,l=a.slice(c,c+d),h=Math.ceil(a.length/d),r=({selected:f})=>{i(f)};return e.jsxs("div",{className:S.Inventory_Container,children:[e.jsx(ne,{ItemsData:a,setData:s}),e.jsxs("div",{className:S.ContainerCarts,children:[e.jsxs("small",{children:["Showing ",e.jsxs("span",{children:[l.length," "]})," of"," ",e.jsx("span",{children:y.length})," results"]}),e.jsx(J,{ItemsData:l}),e.jsx(R,{previousLabel:"← Anterior",nextLabel:"Siguiente →",breakLabel:"...",pageCount:h,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:r,containerClassName:S.pagination,activeClassName:S.active})]})]})}function de(a){return e.jsxs("article",{className:E.InventoryPage,children:[e.jsx(b,{}),e.jsx(se,{}),e.jsx(w,{})]})}export{de as default};
