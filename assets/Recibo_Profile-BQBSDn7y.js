import{r as t,U as D,C as v,j as s}from"./index-CvHj2RZ1.js";import{I}from"./ItemsData-CIqc31K7.js";import{w as C}from"./watch-time-heart-svgrepo-com-D13DZejb.js";const f="_Container_Recibo_uqpyg_6",g="_SubContainer_Recibo_uqpyg_20",S="_Div_Logo_uqpyg_34",b="_Main_container_Info_uqpyg_62",y="_Main_container_part1_uqpyg_69",M="_Main_container_part2_uqpyg_97",N="_Container_Items_uqpyg_118",R="_DivItems_uqpyg_129",L="_Div_Prices_uqpyg_162",e={Container_Recibo:f,SubContainer_Recibo:g,Div_Logo:S,Main_container_Info:b,Main_container_part1:y,Main_container_part2:M,Container_Items:N,DivItems:R,Div_Prices:L};function w(E){const{UserData:l,SetUserData:q}=t.useContext(D),{HistoryItemsID:p,SetHistoryID:P}=t.useContext(v),[r,x]=t.useState(0),[c,m]=t.useState([]),[h,H]=t.useState(I),[o,j]=t.useState([]);return t.useEffect(()=>{const a=localStorage.getItem("DataHistory");JSON.parse(a).filter(i=>i.HistoryID==p).map(i=>{const u=i.items.map(_=>h.map(d=>{if(d.id==_.ID)return{...d,count:_.Cantidad}}));m(u)})},[]),t.useEffect(()=>{c.map(a=>{a.map(n=>{n&&j(i=>[...i,n])})})},[c]),t.useEffect(()=>{let a=0;o.map(n=>{a+=n.precio*n.count}),x(a)},[o]),s.jsxs("article",{className:e.Container_Recibo,children:[s.jsx("h2",{children:"Recibo"}),s.jsxs("div",{className:e.SubContainer_Recibo,children:[s.jsxs("div",{className:e.Div_Logo,children:[s.jsxs("div",{children:[s.jsx("img",{src:C,alt:""}),s.jsx("h3",{children:"ChronoVault"})]}),s.jsxs("p",{children:["Fecha: ",new Date().toLocaleDateString()]})]}),s.jsxs("div",{className:e.Main_container_Info,children:[s.jsxs("div",{className:e.Main_container_part1,children:[s.jsx("h3",{children:"BILLED TO"}),l.map((a,n)=>s.jsxs("div",{children:[s.jsx("span",{children:a.Name}),s.jsx("span",{children:a.Address}),s.jsx("span",{children:a.User})]},n))]}),s.jsxs("div",{className:e.Main_container_part2,children:[s.jsx("span",{children:"PAYMENT METHOD"}),s.jsx("span",{children:"Credit Card"}),s.jsx("span",{children:"Ending in **** 1234"})]})]}),s.jsx("aside",{className:e.Container_Items,children:s.jsx("div",{className:e.DivItems,children:o.map((a,n)=>s.jsxs("div",{children:[s.jsx("img",{src:a.img,alt:""}),s.jsx("p",{children:a.produto}),s.jsxs("span",{children:["$ ",a.precio]})]},n))})}),s.jsxs("div",{className:e.Div_Prices,children:[s.jsxs("div",{children:[s.jsx("span",{children:"Subtotal"}),"$ ",r]}),s.jsx("br",{}),s.jsxs("div",{children:[s.jsx("span",{children:"Taxes (Est.) (10%)"}),"$ ",r*.1]}),s.jsx("br",{}),s.jsxs("div",{children:[s.jsx("span",{children:" Total Paid"}),"$ ",r*.1+r]})]})]})]})}export{w as default};
